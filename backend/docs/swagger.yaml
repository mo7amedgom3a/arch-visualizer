basePath: /api/v1
definitions:
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureEdge:
    properties:
      id:
        type: string
      label:
        type: string
      source:
        type: string
      target:
        type: string
      type:
        description: '"contains" or "depends_on" (or default for generic)'
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureNode:
    properties:
      data:
        $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureNodeData'
      id:
        type: string
      parentId:
        type: string
      position:
        $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.NodePosition'
      type:
        type: string
      uiState:
        $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.NodeUIState'
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureNodeData:
    properties:
      config:
        additionalProperties: true
        type: object
      isVisualOnly:
        type: boolean
      label:
        type: string
      resourceType:
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureOutput:
    properties:
      description:
        type: string
      name:
        type: string
      sensitive:
        type: boolean
      value:
        description: Expression
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureResponse:
    properties:
      edges:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureEdge'
        type: array
      nodes:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureNode'
        type: array
      outputs:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureOutput'
        type: array
      variables:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureVariable'
        type: array
      version_id:
        type: string
      warnings:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ValidationIssue'
        type: array
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureVariable:
    properties:
      description:
        type: string
      name:
        type: string
      sensitive:
        type: boolean
      type:
        type: string
      value:
        description: Current value or default
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.GenerateCodeRequest:
    properties:
      options:
        $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.GenerationOptions'
      tool:
        description: terraform, pulumi, cdk
        type: string
    required:
    - tool
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.GeneratedFileResponse:
    properties:
      content:
        description: Included in immediate generation response, excluded in history
        type: string
      language:
        type: string
      name:
        type: string
      size:
        type: integer
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.GenerationOptions:
    properties:
      format:
        description: hcl, json, yaml
        type: string
      includeOutputs:
        type: boolean
      includeVariables:
        type: boolean
      modularity:
        description: low, medium, high
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.GenerationResponse:
    properties:
      createdAt:
        type: string
      downloadUrl:
        type: string
      errorMessage:
        type: string
      expiresAt:
        type: string
      files:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.GeneratedFileResponse'
        type: array
      generationId:
        type: string
      id:
        description: alias for generationId
        type: string
      projectId:
        type: string
      status:
        type: string
      tool:
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.NodePosition:
    properties:
      x:
        type: number
      "y":
        type: number
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.NodeUIState:
    properties:
      dragging:
        type: boolean
      focusable:
        type: boolean
      height:
        type: number
      measured:
        additionalProperties: true
        type: object
      resizing:
        type: boolean
      selectable:
        type: boolean
      selected:
        type: boolean
      style:
        additionalProperties: true
        type: object
      width:
        type: number
      x:
        type: number
      "y":
        type: number
      zIndex:
        type: integer
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ValidationIssue:
    properties:
      message:
        type: string
      nodeId:
        type: string
      severity:
        description: '"error", "warning"'
        type: string
      type:
        description: e.g., "cost", "security", "structural"
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ValidationResponse:
    properties:
      errors:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ValidationIssue'
        type: array
      valid:
        type: boolean
      warnings:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ValidationIssue'
        type: array
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_request.CreateIAMRoleRequest:
    properties:
      assume_role_policy:
        type: string
      description:
        type: string
      is_virtual:
        type: boolean
      name:
        type: string
      path:
        type: string
    required:
    - assume_role_policy
    - name
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_request.CreateIAMUserRequest:
    properties:
      is_virtual:
        type: boolean
      name:
        type: string
      path:
        type: string
    required:
    - name
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_request.CreateProjectRequest:
    properties:
      cloud_provider:
        enum:
        - aws
        - azure
        - gcp
        type: string
      iac_tool_id:
        minimum: 1
        type: integer
      name:
        maxLength: 100
        minLength: 3
        type: string
      region:
        type: string
      user_id:
        description: Temporary for testing without auth
        type: string
    required:
    - cloud_provider
    - iac_tool_id
    - name
    - region
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_request.CreateUserRequest:
    properties:
      auth0_id:
        type: string
      avatar_url:
        type: string
      email:
        type: string
      name:
        maxLength: 100
        minLength: 2
        type: string
    required:
    - auth0_id
    - email
    - name
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_request.UpdateProjectRequest:
    properties:
      cloud_provider:
        enum:
        - aws
        - azure
        - gcp
        type: string
      iac_tool_id:
        minimum: 1
        type: integer
      name:
        maxLength: 100
        minLength: 3
        type: string
      region:
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_response.ProjectResponse:
    properties:
      cloud_provider:
        type: string
      created_at:
        type: string
      iac_tool_id:
        type: integer
      id:
        type: string
      name:
        type: string
      region:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_response.RuleDetail:
    properties:
      description:
        type: string
      type:
        type: string
      value:
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_response.ServiceRuleResponse:
    properties:
      description:
        type: string
      rules:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_response.RuleDetail'
        type: array
      service_name:
        type: string
      valid_children:
        items:
          type: string
        type: array
      valid_parents:
        items:
          type: string
        type: array
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_response.UserResponse:
    properties:
      avatar_url:
        type: string
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      name:
        type: string
      updated_at:
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_cloud_aws_configs.Tag:
    properties:
      key:
        type: string
      value:
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_cloud_aws_models_iam_outputs.PolicyOutput:
    properties:
      arn:
        description: AWS-generated identifiers
        type: string
      attachment_count:
        type: integer
      create_date:
        description: AWS-specific output fields
        type: string
      default_version_id:
        type: string
      description:
        type: string
      id:
        description: Same as ARN for policies
        type: string
      is_attachable:
        type: boolean
      is_aws_managed:
        description: Policy type information
        type: boolean
      name:
        description: Configuration (from input)
        type: string
      path:
        type: string
      policy_document:
        description: JSON string
        type: string
      tags:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_cloud_aws_configs.Tag'
        type: array
      update_date:
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_cloud_aws_models_iam_outputs.RoleOutput:
    properties:
      arn:
        description: AWS-generated identifiers
        type: string
      assume_role_policy:
        description: JSON string
        type: string
      create_date:
        description: AWS-specific output fields
        type: string
      description:
        description: Configuration (from input)
        type: string
      id:
        description: Same as name for roles
        type: string
      is_virtual:
        type: boolean
      max_session_duration:
        type: integer
      name:
        type: string
      path:
        type: string
      permissions_boundary:
        type: string
      tags:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_cloud_aws_configs.Tag'
        type: array
      unique_id:
        description: Stable unique identifier
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_cloud_aws_models_iam_outputs.UserOutput:
    properties:
      arn:
        description: AWS-generated identifiers
        type: string
      create_date:
        description: AWS-specific output fields
        type: string
      id:
        description: Same as name for users
        type: string
      is_virtual:
        type: boolean
      name:
        type: string
      password_last_used:
        type: string
      path:
        description: Configuration (from input)
        type: string
      permissions_boundary:
        type: string
      tags:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_cloud_aws_configs.Tag'
        type: array
      unique_id:
        description: Stable unique identifier
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ArchitectureCostEstimate:
    properties:
      currency:
        description: Currency is the currency used
        type: string
      duration:
        allOf:
        - $ref: '#/definitions/time.Duration'
        description: Duration is the duration used for the calculation
      period:
        description: Period is the time period for the estimate
        type: string
      provider:
        description: Provider is the cloud provider
        type: string
      region:
        description: Region is the region (if applicable)
        type: string
      resource_estimates:
        additionalProperties:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ResourceCostEstimate'
        description: ResourceEstimates contains individual resource cost estimates
        type: object
      total_cost:
        description: TotalCost is the total estimated cost for the architecture
        type: number
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.CostBreakdownComponent:
    properties:
      component_name:
        description: ComponentName is the name of the cost component
        type: string
      currency:
        description: Currency is the currency used
        type: string
      model:
        description: Model is the pricing model used
        type: string
      quantity:
        description: Quantity is the amount consumed
        type: number
      subtotal:
        description: Subtotal is the calculated cost for this component
        type: number
      unit_rate:
        description: UnitRate is the rate per unit
        type: number
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.CreateVersionRequest:
    properties:
      edges:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureEdge'
        type: array
      message:
        type: string
      nodes:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureNode'
        type: array
      outputs:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureOutput'
        type: array
      variables:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureVariable'
        type: array
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.FieldDescriptorDTO:
    properties:
      default: {}
      description:
        type: string
      enum:
        items:
          type: string
        type: array
      name:
        type: string
      required:
        type: boolean
      type:
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.OptimizationSuggestion:
    properties:
      description:
        type: string
      estimated_savings:
        type: number
      id:
        type: string
      resource_id:
        type: string
      resource_type:
        type: string
      severity:
        description: '"high", "medium", "low"'
        type: string
      title:
        type: string
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.OptimizationWithSavings:
    properties:
      currency:
        type: string
      suggestions:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.OptimizationSuggestion'
        type: array
      total_potential_savings:
        type: number
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ProjectVersionDetail:
    properties:
      created_at:
        type: string
      created_by:
        type: string
      id:
        type: string
      message:
        type: string
      parent_version_id:
        type: string
      project_id:
        type: string
      state:
        $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureResponse'
      version_number:
        type: integer
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ProjectVersionSummary:
    properties:
      created_at:
        type: string
      created_by:
        type: string
      id:
        type: string
      message:
        type: string
      parent_version_id:
        type: string
      project_id:
        type: string
      version_number:
        type: integer
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ResourceCostEstimate:
    properties:
      breakdown:
        description: Breakdown contains the cost breakdown components
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.CostBreakdownComponent'
        type: array
      currency:
        description: Currency is the currency used
        type: string
      resource_id:
        description: ResourceID is the domain resource ID
        type: string
      resource_name:
        description: ResourceName is the name of the resource
        type: string
      resource_type:
        description: ResourceType is the type of resource
        type: string
      total_cost:
        description: TotalCost is the total estimated cost for this resource
        type: number
    type: object
  github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ResourceSchemaDTO:
    properties:
      fields:
        items:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.FieldDescriptorDTO'
        type: array
      label:
        type: string
      outputs:
        additionalProperties:
          type: string
        type: object
    type: object
  time.Duration:
    enum:
    - -9223372036854775808
    - 9223372036854775807
    - 1
    - 1000
    - 1000000
    - 1000000000
    - 60000000000
    - 3600000000000
    format: int64
    type: integer
    x-enum-varnames:
    - minDuration
    - maxDuration
    - Nanosecond
    - Microsecond
    - Millisecond
    - Second
    - Minute
    - Hour
host: localhost:9000
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: Backend API for Arch Visualizer.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Arch Visualizer Backend API
  version: "1.0"
paths:
  /aws/{service}/schemas:
    get:
      description: Get structured schema definitions for all resources under a specific
        AWS service (networking, compute, storage, database)
      parameters:
      - description: AWS service (networking, compute, storage, database)
        in: path
        name: service
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ResourceSchemaDTO'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List resource schemas by service
      tags:
      - metadata
  /aws/{service}/schemas/{resource}:
    get:
      description: Get the structured schema definition for a specific resource under
        an AWS service
      parameters:
      - description: AWS service (networking, compute, storage, database)
        in: path
        name: service
        required: true
        type: string
      - description: Resource label (e.g. ec2_instance, s3_bucket)
        in: path
        name: resource
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ResourceSchemaDTO'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get resource schema by service
      tags:
      - metadata
  /aws/networking/schemas:
    get:
      description: Get structured schema definitions for all resources under a provider/service
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ResourceSchemaDTO'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List resource schemas
      tags:
      - metadata
  /aws/networking/schemas/{resource}:
    get:
      description: Get the structured schema definition for a specific networking
        resource
      parameters:
      - description: Resource label (e.g. vpc, subnet)
        in: path
        name: resource
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ResourceSchemaDTO'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get resource schema
      tags:
      - metadata
  /aws/rules:
    get:
      description: Get all AWS service rules and their constraints
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_response.ServiceRuleResponse'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List all service rules
      tags:
      - rules
  /aws/rules/{service}:
    get:
      description: Get rules and constraints for a specific AWS service
      parameters:
      - description: Service Name (e.g. VPC, Subnet)
        in: path
        name: service
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_response.ServiceRuleResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get service rules
      tags:
      - rules
  /diagrams/process:
    post:
      consumes:
      - application/json
      description: Process a diagram JSON and create/update a project
      parameters:
      - description: Project Name
        in: query
        name: project_name
        type: string
      - description: IaC Tool ID (1=Terraform)
        in: query
        name: iac_tool_id
        type: integer
      - description: User ID
        in: query
        name: user_id
        type: string
      - description: Diagram JSON
        in: body
        name: diagram
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Process a collected diagram
      tags:
      - diagrams
  /diagrams/validate:
    post:
      consumes:
      - application/json
      description: Validate correct structure and schema of a diagram JSON
      parameters:
      - description: Diagram JSON
        in: body
        name: diagram
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Validate diagram structure
      tags:
      - diagrams
  /diagrams/validate-rules:
    post:
      consumes:
      - application/json
      description: Validate architectural rules and constraints (e.g., security, valid
        configs)
      parameters:
      - description: Diagram JSON
        in: body
        name: diagram
        required: true
        schema:
          type: object
      - description: 'Cloud Provider (default: aws)'
        in: query
        name: provider
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Validate domain rules
      tags:
      - diagrams
  /iam/policies:
    get:
      description: Get a list of AWS managed policies, optionally filtered by service
      parameters:
      - description: Filter by service (e.g. s3, lambda)
        in: query
        name: service
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_cloud_aws_models_iam_outputs.PolicyOutput'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List AWS Managed Policies
      tags:
      - iam
  /iam/policies/between:
    get:
      description: Get a list of policies that allow source service to access destination
        service
      parameters:
      - description: Source service (e.g. lambda)
        in: query
        name: source
        required: true
        type: string
      - description: Destination service (e.g. s3)
        in: query
        name: destination
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_cloud_aws_models_iam_outputs.PolicyOutput'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List Policies Between Services
      tags:
      - iam
  /iam/roles:
    post:
      consumes:
      - application/json
      description: Create a new IAM role, potentially virtual
      parameters:
      - description: Role creation request
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_request.CreateIAMRoleRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_cloud_aws_models_iam_outputs.RoleOutput'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Create IAM Role
      tags:
      - iam
  /iam/users:
    post:
      consumes:
      - application/json
      description: Create a new IAM user, potentially virtual
      parameters:
      - description: User creation request
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_request.CreateIAMUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_cloud_aws_models_iam_outputs.UserOutput'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Create IAM User
      tags:
      - iam
  /projects:
    get:
      description: Get a list of projects with pagination, sorting, and searching
      parameters:
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Items per page
        in: query
        name: limit
        type: integer
      - description: Sort field
        in: query
        name: sort
        type: string
      - description: Sort order (asc/desc)
        in: query
        name: order
        type: string
      - description: Search term
        in: query
        name: search
        type: string
      - description: User ID filter
        in: query
        name: user_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List projects
      tags:
      - projects
    post:
      consumes:
      - application/json
      description: Create a new project for the authenticated user
      parameters:
      - description: Project creation request
        in: body
        name: project
        required: true
        schema:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_request.CreateProjectRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_response.ProjectResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Create a new project
      tags:
      - projects
  /projects/{id}:
    delete:
      description: Delete a project by its ID
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Delete a project
      tags:
      - projects
    get:
      description: Get a project snapshot by its ID
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_response.ProjectResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get a project
      tags:
      - projects
    put:
      consumes:
      - application/json
      description: In-place update of project metadata (name, description, cloud_provider,
        region, iac_tool_id). Does NOT create a new version.
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      - description: Project update request
        in: body
        name: project
        required: true
        schema:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_request.UpdateProjectRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_response.ProjectResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Update project metadata
      tags:
      - projects
  /projects/{id}/architecture:
    get:
      description: Get the full architecture for a project snapshot. For a specific
        historical state, use GET /projects/{id}/versions/{version_id}.
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get architecture
      tags:
      - projects
  /projects/{id}/cost/estimate:
    get:
      description: Calculate the estimated cost for the entire project architecture
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ArchitectureCostEstimate'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get project cost estimate
      tags:
      - cost
  /projects/{id}/cost/estimate/resources/{resourceName}:
    get:
      description: Calculate the estimated cost for a specific resource in the project
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      - description: Resource Name
        in: path
        name: resourceName
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ResourceCostEstimate'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get resource cost estimate
      tags:
      - cost
  /projects/{id}/cost/optimize:
    get:
      description: Get suggestions for cost optimization based on architectural patterns
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.OptimizationWithSavings'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get project cost optimization suggestions
      tags:
      - cost
  /projects/{id}/download:
    get:
      description: Generates and downloads the ZIP file of the code
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      - description: IaC Tool (terraform, pulumi, etc)
        in: query
        name: tool
        required: true
        type: string
      produces:
      - application/zip
      responses:
        "200":
          description: OK
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Download generated code
      tags:
      - Code Generation
  /projects/{id}/duplicate:
    post:
      consumes:
      - application/json
      description: Create an independent copy of an existing project and its architecture
        (new root, version 1)
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      - description: Requires 'name'
        in: body
        name: body
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Duplicate a project
      tags:
      - projects
  /projects/{id}/generate:
    post:
      consumes:
      - application/json
      description: Generates IaC files for the specified project and tool
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      - description: Generation options
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.GenerateCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.GenerationResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Generate Infrastructure-as-Code
      tags:
      - Code Generation
  /projects/{id}/versions:
    get:
      description: Returns the full ordered version chain. Any project_id in the lineage
        may be used.
      parameters:
      - description: Project ID (any version in the lineage)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ProjectVersionSummary'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List versions
      tags:
      - versioning
    post:
      consumes:
      - application/json
      description: Save a full architecture state as a new immutable snapshot. Returns
        the version metadata including the new project_id that encodes this snapshot.
      parameters:
      - description: Project ID (any version in the lineage)
        in: path
        name: id
        required: true
        type: string
      - description: Architecture state and optional message
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.CreateVersionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ProjectVersionDetail'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Create new version
      tags:
      - versioning
  /projects/{id}/versions/{version_id}:
    delete:
      description: Removes a version entry from the chain. The underlying project
        snapshot is preserved.
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      - description: Version ID
        in: path
        name: version_id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Delete version
      tags:
      - versioning
    get:
      description: Returns a specific version entry including its full architecture
        snapshot.
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      - description: Version ID
        in: path
        name: version_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ProjectVersionDetail'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get specific version
      tags:
      - versioning
  /projects/{id}/versions/{version_id}/architecture:
    get:
      description: Returns the full architecture state captured in a specific version.
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      - description: Version ID
        in: path
        name: version_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ArchitectureResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get architecture for version
      tags:
      - versioning
  /projects/{id}/versions/{version_id}/estimate-cost:
    post:
      description: Calculate the estimated monthly cost for the architecture of a
        specific version
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      - description: Version ID
        in: path
        name: version_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ArchitectureCostEstimate'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Estimate cost for a version
      tags:
      - versioning
  /projects/{id}/versions/{version_id}/export/terraform:
    post:
      consumes:
      - application/json
      description: Generates IaC files for the architecture captured in a specific
        version
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      - description: Version ID
        in: path
        name: version_id
        required: true
        type: string
      - description: Generation options
        in: body
        name: request
        schema:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.GenerateCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.GenerationResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Generate IaC for version
      tags:
      - versioning
  /projects/{id}/versions/{version_id}/validate:
    post:
      description: Validates the architecture state captured in the specified version.
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      - description: Version ID
        in: path
        name: version_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto.ValidationResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Validate version architecture
      tags:
      - versioning
  /projects/{id}/versions/latest:
    get:
      description: Returns the latest version in the chain including full architecture
        state.
      parameters:
      - description: Project ID (any version in the lineage)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_platform_server_interfaces.ProjectVersionDetail'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get latest version
      tags:
      - versioning
  /static/cloud-config:
    get:
      description: Get global cloud configurations like regions, instance types, etc.
      parameters:
      - description: Provider name (e.g. aws)
        in: query
        name: provider
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get cloud configurations
      tags:
      - static
  /static/providers:
    get:
      description: Get a list of all supported cloud providers (AWS, GCP, etc.)
      produces:
      - application/json
      responses:
        "200":
          description: List of providers
          schema:
            items:
              type: string
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List supported cloud providers
      tags:
      - static
  /static/resource-models:
    get:
      description: Get the JSON structure of resource output models grouped by service
        category with default mock data
      parameters:
      - description: Provider name (e.g. aws)
        in: query
        name: provider
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              additionalProperties: true
              type: object
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get resource output models
      tags:
      - static
  /static/resource-types:
    get:
      description: Get a list of all supported resource types, grouped by service
        category (e.g. Compute, Storage)
      parameters:
      - description: Provider name (e.g. aws)
        in: query
        name: provider
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              additionalProperties: true
              type: object
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List resource types
      tags:
      - static
  /users:
    post:
      consumes:
      - application/json
      description: Create a new user account
      parameters:
      - description: User creation request
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_request.CreateUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_response.UserResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Create a new user
      tags:
      - users
  /users/{id}:
    get:
      description: Get a user by ID
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mo7amedgom3a_arch-visualizer_backend_internal_api_dto_response.UserResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get a user
      tags:
      - users
swagger: "2.0"
